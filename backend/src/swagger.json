{
  "openapi": "3.0.3",
  "info": {
    "title": "Stark Sound Space Admin API",
    "description": "Endpoints powering the admin dashboard for hero, albums, videos, and tours.",
    "version": "1.0.0"
  },
  "servers": [
    { "url": "http://localhost:4000/api", "description": "Local development" },
    { "url": "/api", "description": "Production server" }
  ],
  "tags": [
    { "name": "Auth" },
    { "name": "Hero" },
    { "name": "Albums" },
    { "name": "Videos" },
    { "name": "Tours" },
    { "name": "About" }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "Authenticate admin user",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["username", "password"],
                "properties": {
                  "username": { "type": "string" },
                  "password": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "username": { "type": "string" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/auth/credentials": {
      "put": {
        "tags": ["Auth"],
        "summary": "Update admin username or password",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["currentPassword"],
                "properties": {
                  "currentPassword": { "type": "string" },
                  "username": { "type": "string" },
                  "password": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Credentials updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "username": { "type": "string" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/admin/hero": {
      "get": {
        "tags": ["Hero"],
        "summary": "Get hero settings",
        "responses": {
          "200": {
            "description": "Hero settings",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Hero" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Hero"],
        "summary": "Update hero settings",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/HeroInput" }
            }
          }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/HeroResponse" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/admin/albums": {
      "get": {
        "tags": ["Albums"],
        "summary": "List albums",
        "responses": {
          "200": {
            "description": "Albums list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "albums": {
                      "type": "array",
                      "items": { "$ref": "#/components/schemas/Album" }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Albums"],
        "summary": "Create album",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AlbumInput" }
            }
          }
        },
        "responses": {
          "201": { "$ref": "#/components/responses/AlbumResponse" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/admin/albums/{id}": {
      "put": {
        "tags": ["Albums"],
        "summary": "Update album",
        "parameters": [
          { "$ref": "#/components/parameters/ResourceId" }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AlbumInput" }
            }
          }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/AlbumResponse" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      },
      "delete": {
        "tags": ["Albums"],
        "summary": "Delete album",
        "parameters": [
          { "$ref": "#/components/parameters/ResourceId" }
        ],
        "responses": {
          "200": { "$ref": "#/components/responses/DeleteResponse" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/admin/videos": {
      "get": {
        "tags": ["Videos"],
        "summary": "List videos",
        "responses": {
          "200": {
            "description": "Videos list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "videos": {
                      "type": "array",
                      "items": { "$ref": "#/components/schemas/Video" }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Videos"],
        "summary": "Create video",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/VideoInput" }
            }
          }
        },
        "responses": {
          "201": { "$ref": "#/components/responses/VideoResponse" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/admin/videos/{id}": {
      "put": {
        "tags": ["Videos"],
        "summary": "Update video",
        "parameters": [{ "$ref": "#/components/parameters/ResourceId" }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/VideoInput" }
            }
          }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/VideoResponse" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      },
      "delete": {
        "tags": ["Videos"],
        "summary": "Delete video",
        "parameters": [{ "$ref": "#/components/parameters/ResourceId" }],
        "responses": {
          "200": { "$ref": "#/components/responses/DeleteResponse" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/admin/tours": {
      "get": {
        "tags": ["Tours"],
        "summary": "List tours",
        "responses": {
          "200": {
            "description": "Tours list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tours": {
                      "type": "array",
                      "items": { "$ref": "#/components/schemas/Tour" }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Tours"],
        "summary": "Create tour stop",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/TourInput" }
            }
          }
        },
        "responses": {
          "201": { "$ref": "#/components/responses/TourResponse" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/admin/tours/{id}": {
      "put": {
        "tags": ["Tours"],
        "summary": "Update tour stop",
        "parameters": [{ "$ref": "#/components/parameters/ResourceId" }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/TourInput" }
            }
          }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/TourResponse" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      },
      "delete": {
        "tags": ["Tours"],
        "summary": "Delete tour stop",
        "parameters": [{ "$ref": "#/components/parameters/ResourceId" }],
        "responses": {
          "200": { "$ref": "#/components/responses/DeleteResponse" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/admin/about": {
      "get": {
        "tags": ["About"],
        "summary": "Get about page content",
        "responses": {
          "200": {
            "description": "About page content",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "about": { "$ref": "#/components/schemas/About" }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["About"],
        "summary": "Update about page content",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AboutInput" }
            }
          }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/AboutResponse" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/admin/uploads/signature": {
      "get": {
        "tags": ["Hero"],
        "summary": "Get Cloudinary upload signature",
        "responses": {
          "200": {
            "description": "Signature payload",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Album": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "title": { "type": "string" },
          "year": { "type": "string" },
          "coverUrl": { "type": "string" },
          "summary": { "type": "string" },
          "description": { "type": "string" },
          "tracks": {
            "type": "array",
            "items": { "type": "string" }
          },
          "links": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "url": { "type": "string" },
                "description": { "type": "string" }
              }
            }
          },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "AlbumInput": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "year": { "type": "string" },
          "coverUrl": { "type": "string" },
          "summary": { "type": "string" },
          "description": { "type": "string" },
          "tracks": {
            "type": "array",
            "items": { "type": "string" }
          },
          "links": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "url": { "type": "string" },
                "description": { "type": "string" }
              }
            }
          }
        }
      },
      "Video": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "title": { "type": "string" },
          "youtubeUrl": { "type": "string" },
          "videoId": { "type": "string" },
          "views": { "type": "string" },
          "description": { "type": "string" },
          "lyrics": { "type": "string" },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "VideoInput": {
        "type": "object",
        "required": ["title", "youtubeUrl"],
        "properties": {
          "title": { "type": "string" },
          "youtubeUrl": { "type": "string" },
          "views": { "type": "string" },
          "description": { "type": "string" },
          "lyrics": { "type": "string" }
        }
      },
      "Tour": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "date": { "type": "string" },
          "city": { "type": "string" },
          "venue": { "type": "string" },
          "ticketUrl": { "type": "string" }
        }
      },
      "TourInput": {
        "type": "object",
        "properties": {
          "date": { "type": "string" },
          "city": { "type": "string" },
          "venue": { "type": "string" },
          "ticketUrl": { "type": "string" }
        }
      },
      "Hero": {
        "type": "object",
        "properties": {
          "artistName": { "type": "string", "example": "NEL NGABO" },
          "imageUrl": { "type": "string", "example": "/hero.jpeg" },
          "videoUrl": { "type": "string", "example": "" },
          "navLinks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "targetType": { "type": "string", "enum": ["scroll", "route", "external"] },
                "targetValue": { "type": "string" }
              }
            }
          },
          "primaryCta": {
            "type": "object",
            "properties": {
              "label": { "type": "string" },
              "targetType": { "type": "string", "enum": ["scroll", "route", "external", "externalBlank"] },
              "targetValue": { "type": "string" }
            }
          },
          "secondaryCta": {
            "type": "object",
            "properties": {
              "label": { "type": "string" },
              "url": { "type": "string" }
            }
          },
          "streamingPlatforms": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "url": { "type": "string" },
                "preset": {
                  "type": "string",
                  "enum": ["spotify", "appleMusic", "youtube", "soundcloud", "boomplay", "tiktok", "instagram", "x", "facebook", "mail", "phone", "website"]
                }
              }
            }
          },
          "socialLinks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "url": { "type": "string" }
              }
            }
          },
          "latestAlbumName": { "type": "string", "example": "VIBRANIUM" },
          "latestAlbumLink": { "type": "string", "example": "/music" },
          "notificationText": { "type": "string", "example": "" },
          "notificationLink": { "type": "string", "example": "" },
          "notificationLinkText": { "type": "string", "example": "Learn More" },
          "isNotificationVisible": { "type": "boolean", "example": false },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "HeroInput": {
        "type": "object",
        "properties": {
          "artistName": { "type": "string" },
          "imageUrl": { "type": "string" },
          "videoUrl": { "type": "string" },
          "navLinks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "targetType": { "type": "string", "enum": ["scroll", "route", "external"] },
                "targetValue": { "type": "string" }
              }
            }
          },
          "primaryCta": {
            "type": "object",
            "properties": {
              "label": { "type": "string" },
              "targetType": { "type": "string", "enum": ["scroll", "route", "external", "externalBlank"] },
              "targetValue": { "type": "string" }
            }
          },
          "secondaryCta": {
            "type": "object",
            "properties": {
              "label": { "type": "string" },
              "url": { "type": "string" }
            }
          },
          "streamingPlatforms": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "url": { "type": "string" },
                "preset": {
                  "type": "string",
                  "enum": ["spotify", "appleMusic", "youtube", "soundcloud", "boomplay", "tiktok", "instagram", "x", "facebook", "mail", "phone", "website"]
                }
              }
            }
          },
          "socialLinks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "url": { "type": "string" }
              }
            }
          },
          "latestAlbumName": { "type": "string" },
          "latestAlbumLink": { "type": "string" },
          "notificationText": { "type": "string" },
          "notificationLink": { "type": "string" },
          "notificationLinkText": { "type": "string" },
          "isNotificationVisible": { "type": "boolean" }
        }
      },
      "About": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "biography": { "type": "string" },
          "careerHighlights": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": { "type": "string" },
                "description": { "type": "string" }
              }
            }
          },
          "achievements": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "year": { "type": "string" },
                "title": { "type": "string" },
                "organization": { "type": "string" }
              }
            }
          },
          "awards": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": { "type": "string" },
                "description": { "type": "string" }
              }
            }
          },
          "musicLabel": { "type": "string" },
          "location": { "type": "string" },
          "email": { "type": "string" },
          "phone": { "type": "string" },
          "artistImage": { "type": "string" },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "AboutInput": {
        "type": "object",
        "properties": {
          "biography": { "type": "string" },
          "careerHighlights": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": { "type": "string" },
                "description": { "type": "string" }
              }
            }
          },
          "achievements": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "year": { "type": "string" },
                "title": { "type": "string" },
                "organization": { "type": "string" }
              }
            }
          },
          "awards": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": { "type": "string" },
                "description": { "type": "string" }
              }
            }
          },
          "musicLabel": { "type": "string" },
          "location": { "type": "string" },
          "email": { "type": "string" },
          "phone": { "type": "string" },
          "artistImage": { "type": "string" }
        }
      }
    },
    "parameters": {
      "ResourceId": {
        "in": "path",
        "name": "id",
        "required": true,
        "schema": { "type": "string" }
      }
    },
    "responses": {
      "HeroResponse": {
        "description": "Hero settings payload",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Hero" }
          }
        }
      },
      "AlbumResponse": {
        "description": "Album payload",
        "content": {
          "application/json": { "schema": { "$ref": "#/components/schemas/Album" } }
        }
      },
      "VideoResponse": {
        "description": "Video payload",
        "content": {
          "application/json": { "schema": { "$ref": "#/components/schemas/Video" } }
        }
      },
      "TourResponse": {
        "description": "Tour payload",
        "content": {
          "application/json": { "schema": { "$ref": "#/components/schemas/Tour" }           }
        }
      },
      "AboutResponse": {
        "description": "About page content payload",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/About" }
          }
        }
      },
      "BadRequest": {
        "description": "Validation error",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "message": { "type": "string" }
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "Resource not found",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "message": { "type": "string" }
              }
            }
          }
        }
      },
      "DeleteResponse": {
        "description": "Deletion confirmation",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "message": { "type": "string" }
              }
            }
          }
        }
      }
    }
  }
}

